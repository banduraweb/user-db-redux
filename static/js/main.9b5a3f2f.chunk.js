(this["webpackJsonpuser-db-redux"]=this["webpackJsonpuser-db-redux"]||[]).push([[0],{150:function(e,t,a){e.exports=a(265)},264:function(e,t,a){},265:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),u=a(13),o=a(17),s=a.n(o),i=a(270),m=new(a(113).a)("ReactDexie");m.version(1).stores({userDataBase:"_id, firstName, lastName, phone, gender, age"}),m.open().catch((function(e){console.log(e.stack||e)}));var d="GET_USERS",E="DATA_ADD_SUCCESS",f="START_LOADING",p="STOP_LOADING",v="SET_LOAD_ERROR",b="DELETE_USER",h="SEARCH_USER",N=function(){return function(e){var t,a;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:f}),n.next=4,s.a.awrap(m.on("ready",(function(){return m})));case 4:return t=n.sent,n.next=7,s.a.awrap(m.userDataBase.toArray());case 7:a=n.sent,console.log(a,t),e({type:d,payload:a}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),e((r=n.t0.message,{type:v,payload:r}));case 15:return n.prev=15,e({type:p}),n.finish(15);case 18:case"end":return n.stop()}var r}),null,null,[[0,12,15,18]])}},g=(a(162),a(272)),y=a(273),O=a(271),A=a(114),j=function(){var e=Object(u.c)(),t=function(t){var a=t.target.value;e({type:h,payload:a})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{bg:"dark",variant:"dark",id:"header__navbar"},r.a.createElement(g.a.Brand,{href:"#home"},m.name),r.a.createElement(y.a,{className:"mr-auto"},r.a.createElement(y.a.Link,{href:"#"},"V : ",m.verno)),r.a.createElement(O.a,{inline:!0,onSubmit:function(e){e.preventDefault()}},r.a.createElement(A.DebounceInput,{onChange:function(e){t(e)},debounceTimeout:700,type:"text",placeholder:"Search by name",className:"mr-sm-2"}))))},S=a(267),_=a(81),D=function(e){var t=e.errorMessage,a=Object(_.a)(e,["errorMessage"]);return r.a.createElement("div",null,r.a.createElement("input",a),t&&r.a.createElement("span",{className:"alert alert-danger",role:"alert"},t))},w=function(e){var t=e.errorMessage,a=Object(_.a)(e,["errorMessage"]);return r.a.createElement("div",null,r.a.createElement("select",a,r.a.createElement("option",null),r.a.createElement("option",{value:"male"},"Male"),r.a.createElement("option",{value:"female"},"Female")),t&&r.a.createElement("span",{className:"alert alert-danger",role:"alert"},t))},T=function(e){var t=e.input,a=e.meta;return r.a.createElement(D,Object.assign({},t,{type:"text",name:t.name,errorMessage:a.touched&&a.error}))},G=function(e){var t=e.input,a=e.meta;return r.a.createElement(D,Object.assign({},t,{type:"number",name:t.name,errorMessage:a.touched&&a.error}))},L=function(e){var t=e.input,a=e.meta;return r.a.createElement(w,Object.assign({},t,{errorMessage:a.touched&&a.error}))},M={FIRST_NAME:"First Name",LAST_NAME:"Last Name",PHONE:"Phone 0675011766",GENDER:"Gender",AGE:"Age",_id:""},R=function(e){if(!e||""===e)return"This field is required"},x=function(e){if(!/^[a-zA-Z]{1,20}$/g.test(e.trim()))return"Not correct"},k=function(e){if(!/^[a-zA-Z]{1,20}$/g.test(e.trim()))return"Not correct"},F=function(e){if(+e<16||+e>121)return"16...120"},C=function(e){if(!/^\+380\d{9}$/.test(e.trim()))return"format +380675011766"},I=a(109),B=a(110),P=Object(B.a)({form:"addUserForm"})((function(e){var t=e.handleSubmit,a=e.valid;return r.a.createElement(O.a,{onSubmit:t,className:"w-50 p-12 mx-auto form_custom",border:"primary"},r.a.createElement("div",null,r.a.createElement("div",null,M.FIRST_NAME),r.a.createElement("div",null,r.a.createElement(I.a,{name:"firstName",component:T,validate:[R,x]}))),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,M.LAST_NAME),r.a.createElement("div",null,r.a.createElement(I.a,{name:"lastName",component:T,validate:[R,k]}))),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,M.GENDER),r.a.createElement("div",null,r.a.createElement(I.a,{name:"Gender",validate:R,component:L}))),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,M.AGE),r.a.createElement("div",null,r.a.createElement(I.a,{name:"Age",validate:[R,F],component:G,type:"number"}))),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,M.PHONE.replace(/[^a-zA-Z]/g,"")),r.a.createElement("div",null,r.a.createElement(I.a,{name:"phone",validate:[R,C],component:T}))),r.a.createElement(O.a.Group,null,r.a.createElement(S.a,{type:"submit",disabled:!a},"Submit")))})),U=a(124),H=a(269),q=a(64),z=function(e){return e},Z=Object(q.a)(z,(function(e){var t=e.usersData;return t||[]})),$=(Object(q.a)(z,(function(e){return e.isLoading})),Object(q.a)(z,(function(e){return e.query}))),J=a(268),V=a(26),W=function(){var e=Object(u.d)((function(e){return Z(e)})),t=Object(u.d)((function(e){return $(e)})),a=Object(u.c)(),c=e.usersData,l=Object(n.useState)({sortField:null,arrowSort:null}),o=Object(U.a)(l,2),i=o[0],d=o[1],E=function(e){var t=e.target,a=t.name,n=t.value;console.log(a),d({sortField:a,arrowSort:n})},f=i.sortField,p=i.arrowSort,v=""===t?c:c.filter((function(e){return(e.FIRST_NAME+e.LAST_NAME).toLowerCase().includes(t.toLowerCase())}));return r.a.createElement(r.a.Fragment,null,c?0===c.length?r.a.createElement("h1",{className:"d-flex justify-content-center"},"Data Base is Empty"):r.a.createElement(H.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",responsive:"sl",id:"table",className:"table-custom table-responsive"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),Object.keys(M).map((function(e){return r.a.createElement("th",{key:e,className:"table-header"},e.replace(/_/g," "),"\u2003",r.a.createElement("p",{className:"btn-container"},r.a.createElement(S.a,{className:"btn_search btn_sort",name:e,value:"up",onClick:function(e){return E(e)}},"\u2191"),r.a.createElement(S.a,{className:"btn_search btn_sort",name:e,value:"down",onClick:function(e){return E(e)}},"\u2193")))})))),r.a.createElement("tbody",null,function(e,t,a){if(e[0][t])switch(!isNaN(e[0][t])){case!0:return"up"===a?Object(V.a)(e).sort((function(e,a){return+e[t]-+a[t]})):Object(V.a)(e).sort((function(e,a){return+a[t]-+e[t]}));case!1:return"up"===a?Object(V.a)(e).sort((function(e,a){return e[t].localeCompare(a[t])})):Object(V.a)(e).sort((function(e,a){return a[t].localeCompare(e[t])}));default:return e}return e}(v,f,p).map((function(e,t){var n=e._id,c=e.FIRST_NAME,l=e.LAST_NAME,u=e.PHONE,o=e.GENDER,i=e.AGE;return r.a.createElement("tr",{key:n},r.a.createElement("td",null,++t),r.a.createElement("td",null,c),r.a.createElement("td",null,l),r.a.createElement("td",null,u),r.a.createElement("td",null,o),r.a.createElement("td",null,i),r.a.createElement("td",null,n,r.a.createElement("p",{className:"delete-user-block"},r.a.createElement(S.a,{onClick:function(){!function(e){var t;s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return m.userDataBase.delete(e),n.next=3,s.a.awrap(m.userDataBase.toArray());case 3:t=n.sent,a({type:b,data:t}),setTimeout((function(){a(N())}),1e3);case 6:case"end":return n.stop()}}))}(n)},variant:"info"},"delete user"))))})))):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(J.a,{animation:"grow",variant:"primary"})))},K=a(55),Q=a(121),X=a.n(Q);a(264);var Y=function(){var e=Object(u.c)();return Object(n.useEffect)((function(){setTimeout((function(){e(N())}),2e3)}),[]),r.a.createElement(i.a,null,r.a.createElement(j,null),r.a.createElement(P,{onSubmit:function(t){var a=t.firstName,n=t.lastName,r=t.Gender,c=t.Age,l=t.phone,u={_id:X()(),FIRST_NAME:a,LAST_NAME:n,PHONE:l,GENDER:r,AGE:c};m.userDataBase.add(u).then((function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:E,payload:u});case 1:case"end":return t.stop()}}))})),e(Object(K.a)("addUserForm"))}}),r.a.createElement(W,null))},ee=a(10),te=a(122),ae=a(123),ne=a(65),re=a(111),ce=Object(ee.combineReducers)({usersData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:var a=t.payload;return Object(ne.a)({},e,{usersData:a});case E:var n=t.payload;return Object(ne.a)({},e,{usersData:[].concat(Object(V.a)(e.usersData),[n])});case b:var r=t.payload;return Object(ne.a)({},e,{usersData:r});default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return!0;case p:return!1;default:return e}},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var a=t.payload;return console.log(a),a;default:return e}},form:re.a}),le=Object(ee.createStore)(ce,Object(ae.composeWithDevTools)(Object(ee.applyMiddleware)(te.a)));l.a.render(r.a.createElement(u.a,{store:le},r.a.createElement(Y,null)),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.9b5a3f2f.chunk.js.map